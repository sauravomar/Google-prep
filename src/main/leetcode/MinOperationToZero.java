package main.leetcode;

import java.util.HashMap;
import java.util.Map;

public class MinOperationToZero {

    Map<String, Integer> map = new HashMap<>();

    public int minOperations(int[] nums, int x) {

        if (nums.length == 0 || x == 0) return 0;
        int ans = solve(nums, x, 0, nums.length - 1, 0);
        return ans >= Integer.MAX_VALUE ? -1 : ans;

    }

    private int solve(int number[], int x, int left, int right, int count) {
        if (x == 0) return count;
        if (x < 0 || left > right) return Integer.MAX_VALUE;
        StringBuilder sb = new StringBuilder();
        String key = sb.append(left) + "*" + sb.append(right) + "*" + sb.append(x);
        if (map.containsKey(key)) return map.get(key);

        int l = solve(number, x - number[left], left + 1, right, count + 1);
        int r = solve(number, x - number[right], left, right - 1, count + 1);
        map.put(key, Math.min(l, r));
        return map.get(key);
    }

    public static void main(String[] args) {
        int arr[] = new int []{
            3192, 9686, 2782, 8925, 9531, 1068, 9558, 5016, 1218, 7618, 1385, 5460, 8185, 8524, 5077, 6420, 5315, 6246, 2109, 3786, 939, 7465, 1725, 813, 4248, 1911, 8405, 509, 5339, 8687, 3865, 2494, 5471, 6695, 6641, 8179, 8885, 7762, 3641, 202, 7476, 6127, 6176, 7572, 83, 9639, 9651, 3866, 5876, 6220, 5226, 7639, 8623, 1375, 9594, 664, 7157, 3611, 616, 2543, 7592, 1867, 1087, 7580, 4346, 3521, 3418, 380, 8297, 6355, 6665, 9746, 7271, 7828, 9140, 7961, 9424, 2969, 4209, 2639, 4426, 3428, 4536, 4696, 4746, 8248, 7139, 1756, 6244, 9750, 7945, 1152, 4719, 6159, 5610, 6568, 735, 9350, 3960, 6997, 2145, 1946, 7873, 1931, 9166, 6237, 326, 6591, 7019, 2268, 5132, 7734, 1435, 8264, 7846, 8640, 5317, 400, 6336, 4307, 9677, 8834, 1688, 8522, 6315, 5886, 8421, 8644, 4580, 6201, 8397, 71, 2041, 7312, 8420, 3359, 4428, 8132, 6024, 2351, 9049, 1953, 5797, 3396, 226, 1904, 2760, 5359, 8651, 3552, 3158, 8846, 3413, 9554, 5064, 3196, 3273, 5326, 1154, 456, 255, 3306, 4306, 6060, 2189, 9916, 9495, 488, 8561, 1405, 5928, 895, 9067, 4655, 6976, 3198, 3694, 9833, 1767, 2512, 651, 3916, 6291, 5618, 8763, 7505, 6034, 7467, 6262, 521, 4668, 1567, 6597, 9113, 4567, 5935, 138, 9732, 5554, 2409, 8211, 8894, 3368, 1886, 2137, 5494, 8137, 6133, 8701, 5084, 2542, 4710, 6292, 3677, 5476, 5395, 8061, 3216, 4153, 7554, 1929, 9562, 1394, 6431, 9066, 3365, 9642, 2432, 3267, 8047, 6139, 8467, 2798, 9993, 9075, 5807, 8334, 408, 1393, 413, 4745, 1230, 8343, 7019, 7548, 5729, 4411, 4034, 8560, 6191, 4482, 6449, 1392, 2256, 1608, 8676, 1402, 8232, 269, 6241, 8102, 6455, 4988, 9246, 9975, 6220, 8564, 9568, 7318, 8015, 4816, 2905, 1369, 7024, 6734, 866, 3224, 9413, 3548, 9324, 2916, 3159, 5243, 3471, 5867, 5320, 5427, 5231, 2982, 920, 1765, 124, 8826, 2461, 2758, 5251, 236, 1491, 8067, 2431, 9672, 2784, 6891, 9576, 2796, 7916, 4983, 8607, 8018, 7739, 8873, 4520, 9403, 9988, 5851, 2984, 6366, 3757, 2602, 1967, 4204, 5731, 4954, 8134, 795, 7472, 4048, 1831, 7253, 2097, 2368, 1006, 9878, 1761, 6406, 2900, 151, 2838, 436, 1076, 3423, 4656, 9154, 5148, 8398, 3688, 7462, 4785, 4587, 9793, 3872, 4384, 2504, 8744, 2753, 6948, 5230, 5052, 5673, 3198, 7846, 2245, 9532, 96, 6096, 4718, 1578, 2904, 9408, 2083, 2934, 4401, 2563, 7575, 5506, 7623, 1621, 2941, 5065, 1259, 4690, 6161, 9802, 9994, 4189, 4709, 8169, 4327, 9925, 7169, 5824, 7489, 3743, 4908, 4500, 9283, 4527, 5794, 9975, 182, 7413, 515, 4417, 4282, 2985, 6287, 1078, 4232, 866, 9200, 6044, 4198, 3775, 4579, 7499, 2233, 1316, 5576, 6826, 2046, 2830, 8557, 2699, 5545, 5172, 4231, 1034, 9175, 2598, 7810, 4090, 751, 5007, 7906, 4228, 6760, 3971, 1748, 7155, 1061, 5061, 3676, 7534, 5349, 5568, 2064, 7218, 3664, 3123, 961, 9629, 8114, 9408, 9501, 9384, 268, 9803, 6210, 5119, 2085, 1400, 3935, 7663, 4835, 3137, 611, 7625, 2810, 4419, 8945, 4346, 132, 2349, 5065, 3704, 1081, 1315, 3439, 5715, 4754, 258, 5082, 5120, 2147, 344, 2535, 3957, 9935, 9105, 4755, 3544, 3571, 9019, 2569, 5191, 5139, 9373, 2994, 8944, 4051, 4640, 128, 1725, 254, 6741, 8041, 804, 9038, 3766, 4739, 1395, 4483, 68, 3807, 9885, 7858, 8634, 1517, 6941, 3856, 3911, 3999, 1914, 763, 1574, 8272, 6134, 3069, 3535, 925, 7312, 2554, 9265, 6090, 5706, 1774, 6698, 7560, 728, 1464, 5550, 6025, 1047, 8792, 4774, 8825, 438, 1155, 1280, 4991, 6033, 676, 7889, 7718, 9427, 211, 4116, 2947, 5383, 15, 7142, 7280, 9940, 3817, 4285, 2074, 4071, 1862, 2195, 2615, 3287, 4401, 304, 1074, 3444, 1173, 6885, 8846, 8676, 8950, 1483, 552, 3689, 4603, 5316, 4693, 841, 5355, 9578, 5526, 8533, 1694, 6427, 87, 5920, 8062, 424, 6386, 1539, 9834, 7186, 1528, 5988, 5169, 676, 4376, 1929, 782, 5771, 2136, 775, 3815, 6354, 2261, 4316, 5098, 4557, 4460, 7365, 4836, 2308, 3690, 9117, 7222, 8468, 7177, 5867, 5159, 2715, 4793, 3751, 7884, 6016, 9674, 2921, 5576, 4517, 3167, 4560, 9609, 9090, 1609, 7482, 1607, 2557, 1956, 9564, 7617, 4766, 8820, 4758, 1305, 4864, 9472, 6398, 4285, 552, 5933, 1906, 3475, 6454, 8197, 1057, 3885, 2116, 6617, 4752, 6427, 966, 1027, 1630, 4226, 85, 6075, 427, 8319, 411, 1897, 3165, 2436, 7043, 8333, 1813, 5373, 2382, 2915, 3656, 6474, 4295, 9020, 8974, 4398, 8071, 7126, 8856, 483, 9833, 3676, 4385, 7678, 124, 7238, 7708, 4308, 7390, 7938, 6053, 6200, 5061, 1935, 517, 1040, 3436, 9551, 1709, 596, 6752, 1765, 552, 725, 9298, 8441, 2298, 3180, 8191, 3158, 9285, 2573, 5708, 1878, 1930, 5857, 4891, 5963, 9138, 1258, 2794, 7858, 4910, 2092, 7567, 8391, 947, 7536, 4486, 7738, 5248, 5226, 1357, 9176, 1469, 2870, 496, 6213, 6165, 7126, 6482, 2937, 5356, 5081, 4169, 3475, 2689, 8518, 32, 3988, 8917, 816, 8685, 6101, 5505, 9980, 7454, 2056, 2193, 5508, 4773, 2941, 4101, 4273, 5317, 1013, 3479, 6403, 4469, 8840
        } ;


        System.out.println(new MinOperationToZero().minOperations(arr, 768527557));
    }
}
